<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>MrLeiDeSen&#39;s Blog</title>
    <link>https://mrleidesen.github.io/</link>
    <description>Recent content on MrLeiDeSen&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Mon, 19 Apr 2021 11:12:39 +0800</lastBuildDate><atom:link href="https://mrleidesen.github.io/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Uni_app_using_camera</title>
      <link>https://mrleidesen.github.io/posts/uni_app_using_camera/</link>
      <pubDate>Mon, 19 Apr 2021 11:12:39 +0800</pubDate>
      
      <guid>https://mrleidesen.github.io/posts/uni_app_using_camera/</guid>
      <description>uni-app安卓调用前置摄像头并自动拍照  最近有个uni-app打包成安卓APP的项目，需要拍照后去人脸验证，但是uni提供的只有调起相机，手动切换之后再点拍照，这样操作非常繁杂，就想着有没有啥方法
 问题 和小程序不同，原本小程序中使用腾讯的人脸识别，但是现在需要把项目移植到安卓上去，不仅没有人脸识别了，也没法直接调起前置摄像头。
查了一下H5+的方法，发现直接调起前置的方法在安卓不兼容，这么坑吗？
然后去插件市场找了一下发现都没有合适的，最后发现H5+的直播方法居然能用，还有nvue的直播推流也是能直接调起前置摄像头
nvue nvue的方式我在新开的项目中可以用，但是不知道为什么在原本的项目中会出现编译失败，不过这边也写一下。
 通过live-pusher组件搭配LivePusherContext的API来搭配 不过注意nvue的各种限制 新建文件scan.nvue  &amp;lt;template&amp;gt; &amp;lt;view class=&amp;#34;content&amp;#34;&amp;gt; &amp;lt;live-pusher id=&amp;#39;livePusher&amp;#39; ref=&amp;#34;livePusher&amp;#34; class=&amp;#34;livePusher&amp;#34; url=&amp;#34;&amp;#34; mode=&amp;#34;SD&amp;#34; :muted=&amp;#34;true&amp;#34; :enable-camera=&amp;#34;true&amp;#34; :auto-focus=&amp;#34;true&amp;#34; :beauty=&amp;#34;1&amp;#34; whiteness=&amp;#34;2&amp;#34; aspect=&amp;#34;9:16&amp;#34; &amp;gt;&amp;lt;/live-pusher&amp;gt; &amp;lt;/view&amp;gt; &amp;lt;/template&amp;gt; &amp;lt;script&amp;gt; export default { onReady() { // 注意：需要在onReady中 或 onLoad 延时  // 因为不需要推流，只需要用到预览画面和快照功能  this.context = uni.createLivePusherContext(&amp;#34;livePusher&amp;#34;, this); this.startPreview(); }, methods: { // 快照接口，需要倒计时的话可以根据需要调用这个接口  snapshot: function() { this.context.snapshot({ success: (e) =&amp;gt; { console.log(e); } }); }, startPreview: function() { this.</description>
    </item>
    
    <item>
      <title>安卓WebView同Javascript通信</title>
      <link>https://mrleidesen.github.io/posts/webview_to_js/</link>
      <pubDate>Fri, 26 Mar 2021 08:41:01 +0800</pubDate>
      
      <guid>https://mrleidesen.github.io/posts/webview_to_js/</guid>
      <description>前言 最近项目里有需要用到安卓WebView和JS通信，毕竟不是安卓开发，就去了解了一下。
环境 用的Kotlin的原生和Vue3
创建项目 首先开一个原生安卓的Empty模板，在activity_main.xml中嵌入一个WebView
&amp;lt;WebView android:id=&amp;#34;@+id/webview&amp;#34; android:layout_width=&amp;#34;match_parent&amp;#34; android:layout_height=&amp;#34;match_parent&amp;#34; /&amp;gt; 在AndroidManifest.xml文件中写入网络权限配置，如果需要相机之类的权限，加入后再动态申请，这里只演示通信
&amp;lt;manifest&amp;gt; // ... &amp;lt;uses-permission android:name=&amp;#34;android.permission.INTERNET&amp;#34; /&amp;gt; // ... &amp;lt;/manifest&amp;gt; 配置Kotlin文件 在项目下的MainActivity.kt中写入
override fun onCreate(savedInstanceState: Bundle?) { super.onCreate(savedInstanceState) setContentView(R.layout.activity_main) val webView = setWebViewSettings() } @SuppressLint(&amp;#34;SetJavascriptEnabled&amp;#34;) private fun setWebViewSettings(): WebView { // 找到webview的控件  val myWebView: WebView = findViewById(R.id.webview) // 启用js  myWebView.settings.javaScriptEnabled = true // 与js交互，js中就用client开始调用  myWebView.addJavascriptInterface(UserInfoInterface(this), &amp;#34;client&amp;#34;) // 防止webview跳转到APP外的浏览器  myWebView.webViewClient = object : WebViewClient() { override fun shouldOverrideUrlLoading(view: WebView?</description>
    </item>
    
    <item>
      <title>在Flutter2.0中使用高德地图</title>
      <link>https://mrleidesen.github.io/posts/amap_in_flutter/</link>
      <pubDate>Wed, 17 Mar 2021 16:19:46 +0800</pubDate>
      
      <guid>https://mrleidesen.github.io/posts/amap_in_flutter/</guid>
      <description>前言 在学习过程中需要用到地图组件，但是迫于国内环境，无法使用封装好的Google地图，只能使用国内目前有的百度和高德。因为老项目用的是高德，所以这边踩高德的坑。
文档地址 官方文档
开始使用 申请Key 首先是申请高德的Key，这一步比较简单，跟着官方文档走一般没有问题。
配置SDK 因为flutter插件默认不带地图SDK，我们需要通过原生的方式来引入SDK，官方也是通过Android的文档来告诉我们怎么做的，可能有些小伙伴第一次接触有点看不懂，我这里也写一下方便自己记忆。
 根据文档我们跳转到这个页面。有拷贝添加和Gradle继承两种方法，这边我们为了方便使用Gradle 正常情况下仓库地址已经配置好了，所以配置仓库可以跳过 之后在项目下的android/app/build.gradle文件中找到dependencies添加以下几行  dependencies { //... compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;]) //3D地图so及jar compile &#39;com.amap.api:3dmap:latest.integration&#39; //定位功能 compile &#39;com.amap.api:location:latest.integration&#39; //... }  到这配置SDK这一步就完成了 不过还是有可能会出现网络异常的情况，没找到其他解决方案，只能多试试或者代理  集成Flutter插件  在flutter项目中引入amap_flutter_map: ^1.0.0(版本号可不填，默认最新) 编写widget  import &amp;#39;package:amap_flutter_map/amap_flutter_map.dart&amp;#39;; import &amp;#39;package:amap_flutter_base/amap_flutter_base.dart&amp;#39;; class MyMap extends StatefulWidget { @override _MyMapState createState() =&amp;gt; _MyMapState(); } class _MyMapState extends State&amp;lt;MyMap&amp;gt; { static const AMapApiKey amapApiKeys = AMapApiKey(androidKey: &amp;#39;填入你申请的key&amp;#39;); AMapController _mapController; void onMapCreated(AMapController controller) { setState(() { _mapController = controller; getApprovalNumber(); }); } /// 获取审图号  void getApprovalNumber() async { //普通地图审图号  String mapContentApprovalNumber = await _mapController?</description>
    </item>
    
    <item>
      <title>第二次尝试Flutter</title>
      <link>https://mrleidesen.github.io/posts/flutter_try_second/</link>
      <pubDate>Thu, 11 Mar 2021 13:53:48 +0800</pubDate>
      
      <guid>https://mrleidesen.github.io/posts/flutter_try_second/</guid>
      <description>前言 学了几天flutter，感觉写起来还是很香的，比原生开发速度快很多，不过以前没接触过安卓开发，思维还在Web开发上，记录一下
布局 一般是使用Column和Row以及Container来布局比较多，还有Expanded，类似与flex: 1这个效果，能把剩余的空间补充满。
在使用的时候还遇到了按钮宽度需要100%的情况，2.0废弃了1.0一些组件，按钮一般使用ElevatedButton，但是没法设置宽高。网上查了一下用SizedBox来当它的父容器，这样它就会跟着父容器的宽高走了，需要宽度100%的话就是double.infinity
如何设置width:100% 目前发现有double.infinity和MediaQuery.of(context).size.width。后续发现的话继续补充
路由 路由的话一般定义在MaterialApp里面，如下：
return MaterialApp( title: &amp;#39;title&amp;#39;, initialRoute: &amp;#34;/home&amp;#34;, // 默认的路由  routes: { &amp;#34;/home&amp;#34;: (context) =&amp;gt; MyHome(), // 每个路由需要默认传参context  &amp;#34;/login&amp;#34;: (context) =&amp;gt; MyLogin() }, ); 导航的话常用以下几个
Navigator.pushNamed(context, &amp;#34;/login&amp;#34;); // 跳转到/login页面 Navigator.pop(context); // 返回上一级，可传第二个参数携带回上一级 Navigator.pushReplacementNamed(context, &amp;#34;/login&amp;#34;); //重定向至/login页面，就没法返回到上一级页面了 父子组件传参  父组件调用子组件  // 定义一个全局key GlobalKey&amp;lt;_MyMapState&amp;gt; mapKey = GlobalKey(); // 子组件 class MyMap extends StatefulWidget { MyMap({Key key}) : super(key: key); @override _MyMapState createState() =&amp;gt; _MyMapState(); } class _MyMapState extends State&amp;lt;MyMap&amp;gt; { // .</description>
    </item>
    
    <item>
      <title>第一次尝试Flutter</title>
      <link>https://mrleidesen.github.io/posts/first_try_flutter/</link>
      <pubDate>Tue, 09 Mar 2021 15:11:40 +0800</pubDate>
      
      <guid>https://mrleidesen.github.io/posts/first_try_flutter/</guid>
      <description>前言 听闻Flutter2.0很强，作为前端刚好对APP有点兴趣，整起来试试
环境 公司用的是Windows，先下载Flutter的SDK，迫于墙，所以在国内站下载，地址
跟着配置，我是用VSCode开发的，所以下面都是基于VSCode
创建项目和启动项目 创建项目还好，直接Flutter插件创建就好了，但是使用模拟器启动的时候就遇到问题了，会一直卡在
Running Gradle task &#39;assembleDebug&#39;... google了一下大家都说是墙的问题，然后改了一下阿里的源，直接起飞！下面和大家讲一下如何修改。
首先找到项目下android/build.gradle这个文件，修改以下内容：
buildscript { repositories { // 下面两行是注释的，maven开头的是新增的 // google() // jcenter() maven { url &#39;https://maven.aliyun.com/repository/google&#39; } maven { url &#39;https://maven.aliyun.com/repository/jcenter&#39; } maven { url &#39;http://maven.aliyun.com/nexus/content/groups/public&#39; } } } 然后重新运行一下main.dart就能跑了（万恶的墙啊）总结 以上就是安装到运行的一些问题，等初步写个Demo出来熟悉了，再写一篇</description>
    </item>
    
    <item>
      <title>前端技术一些踩坑记录</title>
      <link>https://mrleidesen.github.io/posts/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF%E4%B8%80%E4%BA%9B%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/</link>
      <pubDate>Mon, 08 Mar 2021 15:30:51 +0800</pubDate>
      
      <guid>https://mrleidesen.github.io/posts/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF%E4%B8%80%E4%BA%9B%E8%B8%A9%E5%9D%91%E8%AE%B0%E5%BD%95/</guid>
      <description>顶部 编辑器相关（VSCode） 实用插件  Beautify 格式化代码 Bracket Pair Colorizer 括号颜色 Path Intellisense 路径智能提示 Vetur Vue提示插件 ES6 ES6语法提示 Open in Browser 在浏览器中打开  回到顶部
React开启JSX支持 打开settings，然后在右上角打开settings.json，配置如下：
&amp;#34;emmet.includeLanguages&amp;#34;: { &amp;#34;javascript&amp;#34;: &amp;#34;javascriptreact&amp;#34; } 回到顶部
NPM(Yarn)相关 &amp;ndash;save和&amp;ndash;save-dev的区别 npm install --save安装的包是运行时的依赖，比如axios
npm install --save-dev安装的包仅仅是在开发阶段的依赖，比如less\sass等
回到顶部
npm在国内加快下载速度  可以使用cnpm，安装方法npm install -g cnpm --registry=https://registry.npm.taobao.org(不推荐，有时候会出问题) 文档 安装yarn来代替，直接下载或者在npm中下载，推荐直接下载安装 (推荐)  # 切换淘宝源 npx nrm use taobao # 切换回来 npx nrm use npm 回到顶部
框架（Vue, React等）相关 Vue监听 Vue在mounted()中添加监听事件之后，记得在destroyed()中移除监听，特别是监听滚动事件
回到顶部
Vue引入iView之后使用Col标签后VSCode会报错 解决方法：在settings中搜索vetur.</description>
    </item>
    
  </channel>
</rss>
